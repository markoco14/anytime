{% extends "base.html" %}
{% block title %}
Ennytime Add Shifts
{% endblock title %}
{% block content %}
<section>
	<div class="max-w-[800px] mx-auto">
		<h1>Add your shifts</h1>
		<p>Current month: {{current_month}}</p>
		<ul class="divide-y">
			{% for date in month_calendar.values() %}
			<li class="py-2 flex justify-between grid grid-cols-2 md:grid-cols-3">
				<span>{{date.date_string}}</span>
				<span>{{date.day_of_week}}</span>
				<div class="col-span-2 md:col-span-1">
					{% for type in shift_types %}
					{% if date.shift and type.id == date.shift.type_id %}
					{% block shift_exists_button scoped %}
					<button hx-delete="/add-shifts/{{date.date_string}}/{{type.id}}"
							hx-confirm="Are you sure you want to delete this shift?"
							hx-swap="outerHTML"
							class="bg-blue-300">{{type.long_name}}</button>
					{% endblock shift_exists_button %}
					{% else %}
					{% block no_shift_button scoped %}
					<button hx-post="/add-shifts/{{date.date_string}}/{{type.id}}"
							hx-swap="outerHTML"
							class="bg-gray-300">{{type.long_name}}</button>
					{% endblock no_shift_button %}
					{% endif %}
					{% endfor %}
				</div>
			</li>
			{% endfor %}

		</ul>
	</div>
</section>
{% endblock content %}