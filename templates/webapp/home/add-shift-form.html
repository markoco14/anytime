{% from '/macros/spinner.html' import spinner%}
<form class="w-full h-full flex flex-col justify-between p-8"
	  hx-post="register-shift"
	  hx-target="this"
	  hx-swap="outerHTML"
	  hx-indicator="this">
	<div class="htmx-indicator absolute top-0 left-0 h-full w-full text-center  grid place-content-center">
		{{spinner('spinner', 'h-6', 'h-6', 'text-black')}}
	</div>
	<div class="htmx-indicator-content">
		<h3 class="text-3xl">Shift Types</h3>
		<div class="sr-only">
			<label>Date</label>
			<input readonly
				   type="date"
				   value="{{date_string}}"
				   min="1900-01-01"
				   max="3000-01-01"
				   name="date"
				   class="text-black border rounded p-2" />
		</div>
		<div class="grid gap-2 mb-2">
			{% for type in shift_types %}
			<label class="peer grid">
				<input class="sr-only peer"
					   required
					   type="radio"
					   id="{{type.id}}"
					   name="shift_type"
					   value="{{type.id}}" />
				<span
					  class="border border-pink-900 hover:bg-pink-300 active:bg-pink-400 cursor-pointer ease-in-out duration-200 w-full p-2 rounded-md peer-checked:bg-pink-700 peer-checked:text-pink-100">
					{{type.type}}
				</span>
			</label>
			{% endfor %}
		</div>
		<div class="flex gap-4">
			<button type="button"
					class="rounded bg-gray-300 dark:bg-gray-700 px-4 py-1"
					hx-get="/calendar-card-detail/{{date_string}}"
					hx-target="#day-{{day_number}}"
					hx-swap="innerHTML"
					hx-trigger="click">
				Cancel
			</button>
			<button type="submit"
					class="bg-blue-500 text-white px-4 py-1 rounded">
				Save shift
			</button>
		</div>
	</div>
</form>